<div class="container"><form name="addCategoryForm" class="add-category"><input ng-model="newCategory" required="required" class="form-control add-task-form__input"/><button ng-click="addCategory()" ng-disabled="addCategoryForm.$invalid" class="btn btn-secondary btn--attention add-task-form__btn">Create category</button></form><div class="categories-wrap"><ul class="category"><li ng-repeat="category in categories track by $index" class="category-item"><header class="category-item__header editable"><h2 ng-hide="category.editingCategory" ng-click="category.editingCategory = !category.editingCategory" class="category-item__name heading-secondary">{{category.name}}<button class="edit icon-control category-item__edit-icon"><span class="icon-edit__icon icon-edit--attention"></span></button></h2></header><div ng-show="category.editingCategory" class="category-item__edit-form"><span ng-click="deleteCategory(category, $index)" class="cancel">Delete</span><form name="categoryEditForm" ng-submit="category.editingCategory = false" class="category-item__edit-form"><input ng-model="category.name" name="categoryName" required="required" class="form-control category-name__edit-input"/><button ng-click="saveEditedCategory(category)" type="submit" ng-disabled="categoryEditForm.$invalid" class="icon-control category-item__edit-icon"><span class="icon-tick icon-tick--attention"></span></button><div ng-messages="categoryEditForm.categoryName.$error" class="form-error"><span ng-message="required">This shouldn't be empty!</span></div></form></div><ul class="tasks"><li ng-repeat="task in category.tasks track by $index" ng-class="{'task--done' : task.done, 'task__name--open' : elemShown}" ng-click="switchScope()" outside-click="outside-click" class="task-item"><span ng-hide="editing" ng-click="editing = !editing" class="task__name editable">{{task.name}}<button ng-hide="editing" class="icon-control task__edit-icon task__edit-icon--name"><span class="icon-edit__icon"></span></button></span><form name="taskEditForm" ng-show="editing" ng-submit="editing = false" class="task__edit-form"><input ng-model="task.name" name="taskName" required="required" class="form-control"/><button ng-click="saveEditedTask(task)" type="submit" ng-disabled="taskEditForm.$invalid" class="task__edit-icon"><span class="icon-tick"></span></button><div ng-messages="taskEditForm.taskName.$error" class="form-error"><span ng-message="required">This shouldn't be empty!</span></div></form><div ng-show="elemShown" class="task__details arrow_box"><button ng-click="deleteTask(category, task, $index)" class="task__delete">Delete</button><span class="task__date">Created on {{task.date |date }}</span></div></li><div class="add-task-wrap"><a ng-hide="category.addingTask" ng-click="category.addingTask = !category.addingTask" title="Add a new task!" class="icon-add icon-control"><span class="icon-add__icon"></span></a><form name="addTaskForm" ng-show="category.addingTask" ng-submit="category.addingTask = false" class="add-task-form"><input ng-model="category.newTask" required="required" class="form-control add-task-form__input"/><button ng-click="addTask(category, category.newTask)" ng-disabled="addTaskForm.$invalid" class="btn btn-secondary btn--attention add-task-form__btn">Add task</button><span ng-click="category.addingTask = false" class="cancel">Cancel</span></form></div></ul></li></ul></div></div>